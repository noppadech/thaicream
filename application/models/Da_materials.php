<?phpclass Da_materials extends MY_Model {    public $material_code;    public $material_supplier;    public $material_trade_name;    public $material_trade_name_2;    public $role;    public $create_by;    public $edit_by;    public function __construct() {        parent::__construct();        $this->_table = "tc_material_master";    }    public function inserts() {        $data = array(            'material_code' => $this->material_code,            'material_supplier' => $this->material_supplier,            'material_trade_name' => $this->material_trade_name,            'material_trade_name_2' => $this->material_trade_name_2,            'role' => $this->role,            'material_status' => 0,            'material_create_by' => $this->create_by,            'material_create_date' => date('Y-m-d'),        );        return $this->insert($data);    }    public function inserts_array($data = null) {        return $this->insert($data);    }    public function updates_array($data = null, $key = null) {        $this->primary_key = "id";        return $this->update($key,$data);    }    public function updates($key) {        $data = array(            'material_code' => $this->material_code,            'material_supplier' => $this->material_supplier,            'material_trade_name' => $this->material_trade_name,            'material_trade_name_2' => $this->material_trade_name_2,            'role' => $this->role,            'material_edit_by' => $this->edit_by,            'material_edit_date' => date('Y-m-d'),        );//        $this->primary_key = $key;//        echo 'test';        return $this->update($key,$data);    }    public function deletes($id) {        $this->delete($id);    }    public function get_all_data() {        $this->order_by('id', "ASC");        return $this->get_all();    }    public function get_data_limit($limit,$offset,$order=array(null,null),$search=null){        $this->limit($limit, $offset);        if($search != null and $search != ""){            $this->db->or_like('material_code', $search);            $this->db->or_like('material_trade_name', $search);            $this->db->or_like('material_trade_name_2', $search);            $this->db->or_like('material_supplier', $search);            $this->db->or_like('material_edit_by', $search);        }        if($order[0] != null and $order[0] != ""){            switch ($order[0]) {                case 0:                    $this->db->order_by('id',$order[1]);                    break;                case 1:                    $this->db->order_by('material_code',$order[1]);                    break;                case 2:                    $this->db->order_by('material_trade_name',$order[1]);                    break;                case 3:                    $this->db->order_by('material_trade_name_2',$order[1]);                    break;                case 4:                    $this->db->order_by('material_supplier',$order[1]);                    break;                case 5:                    $this->db->order_by('material_edit_by',$order[1]);                    break;            }        }        return $this->get_all();    }        public function get_data_no_limit($order=array(null,null),$search=null){        if($search != null and $search != ""){            $this->db->or_like('material_code', $search);            $this->db->or_like('material_trade_name', $search);            $this->db->or_like('material_trade_name_2', $search);            $this->db->or_like('material_supplier', $search);            $this->db->or_like('material_edit_by', $search);        }        if($order[0] != null and $order[0] != ""){            switch ($order[0]) {                case 0:                    $this->db->order_by('id',$order[1]);                    break;                case 1:                    $this->db->order_by('material_code',$order[1]);                    break;                case 2:                    $this->db->order_by('material_trade_name',$order[1]);                    break;                case 3:                    $this->db->order_by('material_trade_name_2',$order[1]);                    break;                case 4:                    $this->db->order_by('material_supplier',$order[1]);                    break;                case 5:                    $this->db->order_by('material_edit_by',$order[1]);                    break;            }        }        return $this->get_all();    }}